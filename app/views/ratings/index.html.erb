<h1>Ratings</h1>

<div>
<h2>Best beers</h2>
<table class="table" style="float: left">
  <thead>
    <tr>
      <th scope="col">Beer</th>
      <th scope="col">Average</th>
    </tr>
  </thead>
  <tbody>
    <% @top_beers.each do |beer| %>
    <tr>
      <td><%= link_to beer.name, beer %></td>
      <td><%= round(beer.average_rating) %></td>
    </tr>
    <% end %>
  </tbody>
</table>

<h2>Best breweries</h2>
<table class="table" style="float: left">
  <thead>
    <tr>
      <th scope="col">Brewery</th>
      <th scope="col">Average</th>
    </tr>
  </thead>
  <tbody>
    <% @top_breweries.each do |brewery| %>
    <tr>
      <td><%= link_to brewery.name, brewery %></td>
      <td><%= round(brewery.average_rating) %></td>
    </tr>
    <% end %>
  </tbody>
</table>


<h2>Best styles</h2>
<table class="table" style="float: left">
  <thead>
    <tr>
      <th scope="col">Style</th>
      <th scope="col">Average</th>
    </tr>
  </thead>
  <tbody>
    <% @top_styles.each do |style| %>
    <tr>
      <td><%= link_to style.name, style %></td>
      <td><%= round(style.average_rating) %></td>
    </tr>
    <% end %>
  </tbody>
</table>
</div>

<h2>Most active users</h2>

<ol>
  <% @top_users.each do |user| %>
    <li> <%= user.username %> <%= user.ratings.count %> ratings </li>
  <% end %>
</ol>

<h2>Recent ratings</h2>

<ul>
  <% @recent_ratings.each do |rating| %>
    <li> <%= render rating %> </li>
  <% end %>
</ul>

<%= link_to "New rating", new_rating_path, class:"btn btn-primary" if current_user %>